<Window x:Class="PhysModelDeveloperGUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ex="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:ts="clr-namespace:ToggleSwitch;assembly=ToggleSwitch"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:local="clr-namespace:PhysModelDeveloperGUI"
        mc:Ignorable="d"
        Title="Neonatal Physiological Model - Developer Edition" Height="800" Width="1280" WindowStartupLocation="CenterScreen">
    <Window.Resources>

        <Style TargetType="{x:Type ex:DoubleUpDown}">
            <Setter Property="Increment">
                <Setter.Value>
                    0.1
                </Setter.Value>
            </Setter>
            <Setter Property="Minimum">
                <Setter.Value>
                    0
                </Setter.Value>
            </Setter>
            <Setter Property="FontSize">
                <Setter.Value>10</Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="DoubleUpDownChange" TargetType="{x:Type ex:DoubleUpDown}">
            <Setter Property="Increment">
                <Setter.Value>
                    5
                </Setter.Value>
            </Setter>
        </Style>



    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"></ColumnDefinition>
            <ColumnDefinition Width="2*"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
       
        <Menu VerticalAlignment="Top" Height="25" Grid.ColumnSpan="3">
            <MenuItem Header="_File">
                <MenuItem Header="_New" Command="{Binding NewModelCommand}" />
                <MenuItem Header="_Open"  Command="{Binding LoadModelStateCommand}" />
                <MenuItem Header="_Save"   Command="{Binding SaveModelStateCommand}" />
                <Separator />
                <MenuItem Header="_Exit" Command="{Binding ExitCommand}" />
            </MenuItem>

            <MenuItem Header="_Events">
                <MenuItem x:Name="menuPaul" Header="_Switch to Paul" IsCheckable="True" Command="{Binding SwitchToPaulCommand}"/>


                <MenuItem x:Name="menuArrest" Header="_Cardiac arrest" IsCheckable="True" Command="{Binding ToggleArrestCommand}" CommandParameter="{Binding ElementName=menuArrest, Path=IsChecked}"/>


                <MenuItem x:Name="menuAutoPulse" Header="_Auto pulse" IsCheckable="True" Command="{Binding ToggleAutoPulseCommand}" CommandParameter="{Binding ElementName=menuAutoPulse, Path=IsChecked}"/>
            </MenuItem>
            <MenuItem Header="_Views">
                <MenuItem x:Name="menuResetDisplay" Header="_Clear view" IsCheckable="False" Command="{Binding ResetDisplayCommand}"></MenuItem>
                <MenuItem x:Name="menuFetus" Header="_Fetal circulation" IsChecked="{Binding FetusVisible}" IsCheckable="True"/>
                <MenuItem Header="_Shunts">
                    <MenuItem x:Name="menuOFO" Header="_Foramen ovale" IsCheckable="True" IsChecked="{Binding OFOVisible, Mode=TwoWay}"/>
                    <MenuItem x:Name="menuVSD1" Header="_Ventricular septal defect" IsCheckable="True" IsChecked="{Binding VSDVisible, Mode=TwoWay}"/>
                    <MenuItem x:Name="menuPDA1" Header="_Ductus arteriosus" IsCheckable="True" IsChecked="{Binding PDAVisible, Mode=TwoWay}"/>

                </MenuItem>
                <MenuItem Header="_Cardiac views">
                    <MenuItem x:Name="menuTAPVC1" Header="_TAPVC cardiac type" IsCheckable="True" IsChecked="{Binding TAPVC1Visible, Mode=TwoWay}"/>
                    <MenuItem x:Name="menuTAPVC2" Header="_TAPVC infracardiac type" IsCheckable="True" IsChecked="{Binding TAPVC2Visible, Mode=TwoWay}"/>
                    <MenuItem x:Name="menu4Fallot" Header="_Tetralogy of Fallot" IsCheckable="True" IsChecked="{Binding FALVisible, Mode=TwoWay}"/>
                    <MenuItem x:Name="menuTGA" Header="_Transposition of the great arteries" IsCheckable="True" IsChecked="{Binding TGAVisible, Mode=TwoWay}"/>
                    <MenuItem x:Name="menuTRUNCUS" Header="_Truncus arteriosus" IsCheckable="True" IsChecked="{Binding TRUNCUSVisible, Mode=TwoWay}"/>
                </MenuItem>

            </MenuItem>
            <MenuItem Header="_Settings">
                <MenuItem x:Name="menuIncrWidth" Header="_Increase width" IsCheckable="False" Command="{Binding IncreaseWidthCommand}"/>
                <MenuItem x:Name="menuDecWidth" Header="_Decrease width" IsCheckable="False" Command="{Binding DecreaseWidthCommand}"/>
            </MenuItem>


        </Menu>
        
        <StatusBar VerticalAlignment="Bottom" Height="25" Grid.ColumnSpan="3">
            <StatusBarItem>
                <TextBlock Text="model name : "></TextBlock>
            </StatusBarItem>
            <StatusBarItem>
                <TextBlock Text="{Binding ModelName, Mode=OneWay}" FontWeight="DemiBold"/>
            </StatusBarItem>

       

        </StatusBar>
        
        <TextBlock Margin="0,25,0,0" Text="INTERVENTIONS AND PARAMETERS" TextAlignment="Center" Foreground="Black" FontWeight="DemiBold" FontSize="15" ></TextBlock>
        <ScrollViewer Grid.Column="0"  Margin="0,50,0,25" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="0,0,5,0">
                
                <Expander IsExpanded="true" Header="Interventions" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Opacity="1" Foreground="White" BorderThickness="0">
                    <StackPanel Margin="5,0,5,5" >
                        <Expander IsExpanded="False" x:Name="expInterventions" Header="hemodynamics" Background="DarkSlateGray" Margin="0,0,0,5" Padding="5,5,5,5"  Foreground="White" BorderThickness="0">
                     
                            <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid x:Name="gridInterventions" Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="0" Margin="0,0,0,0" Text="systemic vascular resistance "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider x:Name="sliSVR" Grid.Column="0" Grid.Row="1"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-1000" Maximum="1000" Value="{Binding SystemicVascularResistanceChange,Mode=TwoWay}" Height="20" HorizontalAlignment="Center" Width="200" Margin="10,5,10,5"></Slider>
                                    <TextBlock Grid.Column="2" Grid.Row="1"  Foreground="White" Background="Black" Text="{Binding ElementName=sliSVR, Path=Value, StringFormat=N1}" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Margin="0,0,0,0" Text="pulmonary vascular resistance "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider x:Name="sliPVR"  Grid.Column="0" Grid.Row="3"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-1000" Maximum="1000" Value="{Binding PulmonaryVascularResistanceChange,Mode=TwoWay}" Height="20" HorizontalAlignment="Center" Width="200" Margin="10,5,10,5"></Slider>
                                    <TextBlock Grid.Column="2" Grid.Row="3"  Foreground="White" Background="Black" Text="{Binding ElementName=sliPVR, Path=Value, StringFormat=N1}" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="4" Margin="0,0,0,0" Text="heart contractility "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider x:Name="sliCONT"  Grid.Column="0" Grid.Row="5"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-1000" Maximum="1000" Value="{Binding HeartContractilityChange,Mode=TwoWay}"  Height="20" HorizontalAlignment="Center" Width="200" Margin="10,5,10,5"></Slider>
                                    <TextBlock Grid.Column="2" Grid.Row="5"  Foreground="White" Background="Black" Text="{Binding ElementName=sliCONT, Path=Value, StringFormat=N1}" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="6" Margin="0,0,0,0" Text="foramen ovale size "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider x:Name="sliOFOSize" Grid.Column="0" Grid.Row="7"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="0" Maximum="20" Value="{Binding OFOSize,Mode=TwoWay}" Height="20" HorizontalAlignment="Center" Width="200" Margin="10,5,10,5"></Slider>
                                    <TextBlock Grid.Column="2" Grid.Row="7"  Foreground="White" Background="Black" Text="{Binding ElementName=sliOFOSize, Path=Value, StringFormat=N1}" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="8" Margin="0,0,0,0" Text="ventricular septal defect size "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider x:Name="sliVSDSize" Grid.Column="0" Grid.Row="9"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="0" Maximum="20" Value="{Binding VSDSize,Mode=TwoWay}"  Height="20" HorizontalAlignment="Center" Width="200" Margin="10,5,10,5"></Slider>
                                    <TextBlock Grid.Column="2" Grid.Row="9"  Foreground="White" Background="Black" Text="{Binding ElementName=sliVSDSize, Path=Value, StringFormat=N1}" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="10" Margin="0,0,0,0" Text="ductus arteriosus size "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider x:Name="sliPDASize" Grid.Column="0" Grid.Row="11"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="0" Maximum="20"  Value="{Binding PDASize,Mode=TwoWay}"  Height="20" HorizontalAlignment="Center" Width="200" Margin="10,5,10,5"></Slider>
                                    <TextBlock Grid.Column="2" Grid.Row="11"  Foreground="White" Background="Black" Text="{Binding ElementName=sliPDASize, Path=Value, StringFormat=N1}" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>

                                </Grid>

                            </Border>
                        </Expander>
                        <Expander IsExpanded="False" Header="ventilator" Background="DarkSlateGray" Margin="0,0,0,5" Padding="5,5,5,5"  Foreground="White" BorderThickness="0">

                            <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid x:Name="gridInterventionsVentilator" Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="0" Margin="0,0,0,0" Text="frequency "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider Grid.Column="0" Grid.Row="1"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-100" Maximum="100"  Height="20" HorizontalAlignment="Center" Width="{Binding Path=ActualWidth, ElementName=gridInterventionsVentilator}" Margin="10,5,10,5"></Slider>
                                    <Label Grid.Column="2" Grid.Row="1"  Foreground="White" Background="Black" Content="10" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></Label>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Margin="0,0,0,0" Text="peak inspiratory pressure "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider Grid.Column="0" Grid.Row="3"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-100" Maximum="100"  Height="20" HorizontalAlignment="Center" Width="{Binding Path=ActualWidth, ElementName=gridInterventionsVentilator}" Margin="10,5,10,5"></Slider>
                                    <Label Grid.Column="2" Grid.Row="3"  Foreground="White" Background="Black" Content="10" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></Label>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="4" Margin="0,0,0,0" Text="positive end expiratory pressure "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider Grid.Column="0" Grid.Row="5"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-100" Maximum="100"  Height="20" HorizontalAlignment="Center" Width="{Binding Path=ActualWidth, ElementName=gridInterventionsVentilator}" Margin="10,5,10,5"></Slider>
                                    <Label Grid.Column="2" Grid.Row="5"  Foreground="White" Background="Black" Content="10" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></Label>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="6" Margin="0,0,0,0" Text="tidal volume "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider Grid.Column="0" Grid.Row="7"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-100" Maximum="100"  Height="20" HorizontalAlignment="Center" Width="{Binding Path=ActualWidth, ElementName=gridInterventionsVentilator}" Margin="10,5,10,5"></Slider>
                                    <Label Grid.Column="2" Grid.Row="7"  Foreground="White" Background="Black" Content="10" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></Label>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="8" Margin="0,0,0,0" Text="flow "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider Grid.Column="0" Grid.Row="9"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-100" Maximum="100"  Height="20" HorizontalAlignment="Center" Width="{Binding Path=ActualWidth, ElementName=gridInterventionsVentilator}" Margin="10,5,10,5"></Slider>
                                    <Label Grid.Column="2" Grid.Row="9"  Foreground="White" Background="Black" Content="10" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></Label>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="10" Margin="0,0,0,0" Text="fio2 "  FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <Slider Grid.Column="0" Grid.Row="11"  Grid.ColumnSpan="2" Foreground="White" Background="Black" Minimum="-100" Maximum="100"  Height="20" HorizontalAlignment="Center" Width="{Binding Path=ActualWidth, ElementName=gridInterventionsVentilator}" Margin="10,5,10,5"></Slider>
                                    <Label Grid.Column="2" Grid.Row="11"  Foreground="White" Background="Black" Content="10" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center"></Label>

                                </Grid>

                            </Border>
                        </Expander>
                    </StackPanel>
                
                </Expander>
                <Expander IsExpanded="False" Header="Global model settings" Background="DarkSlateGray" Margin="10,0,0,10" Padding="5,5,5,5"  Foreground="White" BorderThickness="0">
                    <StackPanel Margin="5,0,5,5" >
                        <Expander Header=" ecg model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" Margin="0,0,0,0" Text="select rhythm " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbRhythmType2" ItemsSource="{Binding rhythmTypes}"  Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="1" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeRhythmCommand}" CommandParameter="{Binding ElementName=cmbRhythmType2, Path=SelectedIndex}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="pq time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding PQTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="qrs time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding QRSTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="qt time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding QTTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="ventricular escape rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding VentEscapeRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="wandering pacemaker rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding WandPacemakerRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="p wave amplification"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding PWaveAmp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="t wave amplification"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding TWaveAmp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="ecg noise level"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding NoiseLevel,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>

                        </Expander>
                        <Expander Header=" heart" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" whole heart contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="0" Grid.Column="1" Increment="5" Value="{Binding HeartContractilityChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" > left heart contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="1" Grid.Column="1" Value="{Binding HeartLeftContractilityChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" > right heart contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="2" Grid.Column="1" Value="{Binding HeartRightContractilityChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" whole heart diastolic function"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="3" Grid.Column="1" Value="{Binding HeartDiastolicFunctionChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text=" > left diastolic function"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="4" Grid.Column="1" Value="{Binding HeartLeftDiastolicFunctionChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text=" > right diastolic function"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="5" Grid.Column="1" Value="{Binding HeartRightDiastolicFunctionChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text=" aortic valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="6" Grid.Column="1" Value="{Binding AVStenosisChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text=" aortic valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="7" Grid.Column="1" Maximum="100" Value="{Binding AVRegurgitationChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text=" pulmonary valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="8" Grid.Column="1" Value="{Binding PVStenosisChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text=" pulmonary valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="9" Grid.Column="1" Maximum="100" Value="{Binding PVRegurgitationChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text=" mitral valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="10" Grid.Column="1" Value="{Binding MVStenosisChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="10" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="11" FontSize="10" Text=" mitral valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="11" Grid.Column="1" Maximum="100" Value="{Binding MVRegurgitationChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="11" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="12" FontSize="10" Text=" tricuspid valve stenosis"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="12" Grid.Column="1"  Value="{Binding TVStenosisChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="12" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="13" FontSize="10" Text=" tricuspid valve regurgitation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="13" Grid.Column="1" Maximum="100"  Value="{Binding TVRegurgitationChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="13" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="14" FontSize="10" Text=" pericardial compliance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="14" Grid.Column="1" Maximum="100"  Value="{Binding PericardiumComplianceChange,Mode=TwoWay}" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="14" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>



                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" circulation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" change syst vasc resistance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="0" Grid.Column="1" Value="{Binding SystemicVascularResistanceChange,Mode=TwoWay}"  Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" change pulm vasc resistance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="1" Grid.Column="1" Value="{Binding PulmonaryVascularResistanceChange,Mode=TwoWay}"  Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" change venous pool volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="2" Grid.Column="1" Value="{Binding VenousPoolChange,Mode=TwoWay}"  Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" change blood volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="3" Grid.Column="1" Value="{Binding BloodVolumeChange,Mode=TwoWay}"  Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" shunts" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>


                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" change PDA size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding PDASize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" change OFO size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding OFOSize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" change VSD size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding VSDSize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" change lung shunt size"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Minimum="0" Maximum="10" Value="{Binding LUNGShuntSize,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" breathing" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="spontaneous breathing" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="0"  IsChecked="{Binding SpontaneousBreathing, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="reference exhaled minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding VERef,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="maximal exhaled minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding VEMax,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="tidal volume / resp rate ratio"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding VtRrRatio,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="breath duration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding BreathDuration,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="breath duration randomness"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding BreathDurationRand,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="apnoe occurence"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding ApnoeOccurence,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="apnoe duration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding ApnoeDuration,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="apnoe duration randomness"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding ApnoeDurationRand,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="inspired oxygen concentration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Increment="0.01" Minimum="0.21" Maximum="1" Value="{Binding FiO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" mechanical ventilation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="mechanical ventilator enabled" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="0"  IsChecked="{Binding VirtualVentilatorEnabled, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="volume controlled" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="1"  IsChecked="{Binding Vent_VolumeControlled, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="targeted tidal volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding Vent_TargetTidalVolume,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="max insp pressure (PIP)"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding Vent_PIP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="cmH2O" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="pos end exp pressure (PEEP)"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding Vent_PEEP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="cmH2O" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="inspiration time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding Vent_TIn,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="expiration time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding Vent_TOut,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="inspiratory flow"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding Vent_InspFlow,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="l/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="expiratory flow"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding Vent_ExpFlow,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="l/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="trigger volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Value="{Binding Vent_TriggerVolume,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="ml" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text="inspired oxygen concentration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Increment="0.01" Minimum="0.21" Maximum="1"  Value="{Binding FiO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="10" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" lung and chestwall" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text=" lung compliance "  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="0" Grid.Column="1" Value="{Binding LungComplianceChange,Mode=TwoWay}"  Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text=" airway compliance"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="1" Grid.Column="1" Value="{Binding AirwayComplianceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text=" chestwall compliance "  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="2" Grid.Column="1" Value="{Binding ChestwallComplianceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text=" upper airway resistance "  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="3" Grid.Column="1" Value="{Binding UpperAirwayResistanceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text=" lower airway resistance "  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="4" Grid.Column="1" Value="{Binding LowerAirwayResistanceChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text=" lung diffusion capacity"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Style="{StaticResource DoubleUpDownChange}" Grid.Row="5" Grid.Column="1" Value="{Binding LungDiffusionCapacityChange,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="%" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" metabolic" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="oxygen use"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding VO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="ml O2/s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="hemoglobin"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding Hemoglobin,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="2,3 DPG"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding DPG,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="temperature"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding Temp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="deg C" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="respiratory quotient"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding RespQ,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="lactate clearance rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding LactateClearanceRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="mmol/s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" autonomic nervous system model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <StackPanel Margin="20,0,0,0">
                                <Expander Header=" MAP baroreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>


                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on heart period"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GMAPHP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of hp effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcMAPHP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on contractility"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GMAPCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of cont effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcMAPCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="gain on SVR"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding GMAPSVR,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="7" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="time constant of SVR effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding TcMAPSVR,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="8" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="gain on venous pool"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Value="{Binding GMAPVen,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="9" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text="time constant of pooling effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Value="{Binding TcMAPVen,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="10" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                        </Grid>
                                    </Border>
                                </Expander>

                                <Expander Header=" pH chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GPHVE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcPHVE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GPHCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of cont effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcPHCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                        </Grid>
                                    </Border>
                                </Expander>

                                <Expander Header=" pO2 chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GPO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcPO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on heart period"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GPO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of hp effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcPO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                        </Grid>
                                    </Border>
                                </Expander>

                                <Expander Header=" pCO2 chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GPCO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcPCO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on heart period"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GPCO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of hp effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcPCO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>



                                        </Grid>
                                    </Border>
                                </Expander>
                            </StackPanel>


                        </Expander>
                    </StackPanel>
                </Expander>
                <Expander IsExpanded="False" Header="Specific model settings" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <StackPanel Margin="5,0,5,5">
                        <Expander IsExpanded="False" Header=" blood compartments" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="blood compartment " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbBloodCompartments" ItemsSource="{Binding bloodcompartments}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeBloodCompartmentCommand}" CommandParameter="{Binding ElementName=cmbBloodCompartments, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> unstressed volume" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="1" Increment="0.1" Minimum="0" Value="{Binding UVolBlood, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> baseline elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.01" Minimum="0"  Value="{Binding ElBaselineBlood, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> contraction elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.01" Minimum="0"  Value="{Binding ElContractionBaselineBlood, Mode=TwoWay}" Margin="0,2,0,2" FontSize="10"/>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> min vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.1"  Value="{Binding ElKMinVolumeBlood, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> min vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.01" Minimum="0"  Value="{Binding ElK1Blood, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> max vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.1"  Value="{Binding ElKMaxVolumeBlood, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> max vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="7" Increment="0.01" Minimum="0"  Value="{Binding ElK2Blood, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="7" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" Grid.ColumnSpan="2" Text="> fraction ATP use" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="8" Increment="0.01" Minimum="0" Maximum="1"  Value="{Binding FVATP, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="8" Grid.ColumnSpan="2" Text="fraction" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" Grid.ColumnSpan="2" Text="> is enabled" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="9" IsChecked="{Binding IsEnabledBlood}" Margin="0,5,0,0" ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="11" Grid.ColumnSpan="2" Text="> has fixed volume" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="11" IsChecked="{Binding HasFixedVolumeBlood}" Margin="0,5,0,0" ></CheckBox>
                                    
                                    

                                   </Grid>

                            </Border>
                        </Expander>
                        <Expander IsExpanded="False" Header=" gas compartments" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select gas compartment " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbGasCompartments" ItemsSource="{Binding gascompartments}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeGasCompartmentCommand}" CommandParameter="{Binding ElementName=cmbGasCompartments, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> unstressed volume" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="1" Increment="0.1" Minimum="0" Value="{Binding UVolGas, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> baseline elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.01" Minimum="0" Value="{Binding ElBaselineGas, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> contraction elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.01" Minimum="0"  Value="{Binding ElContractionBaselineGas, Mode=TwoWay}" Margin="0,2,0,2" FontSize="10"/>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> min vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.1" Value="{Binding ElKMinVolumeGas, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> min vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.01"   Value="{Binding ElK1Gas, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> max vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.1" Value="{Binding ElKMaxVolumeGas, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> max vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="7" Increment="0.01"  Value="{Binding ElK2Gas, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="7" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>
                                 
                                    <TextBlock Grid.Column="0" Grid.Row="8" Grid.ColumnSpan="2" Text="> is enabled" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="8" IsChecked="{Binding IsEnabledGas}" Margin="0,5,0,0" ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="9" Grid.ColumnSpan="2" Text="> fixed composition" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="9" IsChecked="{Binding HasFixedCompositionGas}" Margin="0,5,0,0" ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="10" Grid.ColumnSpan="2" Text="> has fixed volume" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="10" IsChecked="{Binding HasFixedVolumeGas}" Margin="0,5,0,0" ></CheckBox>

                                </Grid>

                            </Border>
                        </Expander>

                        <Expander IsExpanded="false" Header=" connectors" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select connector " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbConnectors" ItemsSource="{Binding connectors}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeConnectorCommand}" CommandParameter="{Binding ElementName=cmbConnectors, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> forward resistance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="1" Increment="0.1" Minimum="0.01"  Value="{Binding ResForward, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2">
                                    </ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="2" Text="mmHg/sec/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> backward resistance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.1" Minimum="0.01" Value="{Binding ResBackward, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="mmHg/sec/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> resistance K1" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.01" Value="{Binding ResK1, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> resistance K2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.01" Value="{Binding ResK2, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> resistance coupling" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="5" IsChecked="{Binding IsCoupledRes}" Margin="0,5,0,0"  ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> no backflow " FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="6" IsChecked="{Binding NoBackFlowRes}" Margin="0,5,0,0"  ></CheckBox>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> is enabled" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="7" IsChecked="{Binding IsEnabledRes}" Margin="0,5,0,0"  ></CheckBox>

                                </Grid>
                            </Border>
                        </Expander>

                        <Expander IsExpanded="False" Header=" container compartments" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select container " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbContainers" ItemsSource="{Binding containers}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeContainerCommand}" CommandParameter="{Binding ElementName=cmbContainers, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Margin="5,3,0,0" Text="contained compartments " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ListBox ItemsSource="{Binding containedCompartments}"  DisplayMemberPath="Description" Margin="0,3,5,3" FontSize="10" Height="60" Grid.ColumnSpan="2" Grid.Column="2" Grid.Row="1" >

                                    </ListBox>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> unstressed volume" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.1" Value="{Binding UVolCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> baseline elastance" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.01" Value="{Binding ElBaselineCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="mmHg/ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> min vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.1" Value="{Binding ElKMinVolumeCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> min vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.01" Value="{Binding ElK1Cont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> max vol elast curve" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.1" Value="{Binding ElKMaxVolumeCont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="ml" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> max vol elast curve K" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="7" Increment="0.01" Value="{Binding ElK2Cont, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="7" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>

                        <Expander IsExpanded="false" Header=" gasexchange units" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>


                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select unit " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbGexUnits" ItemsSource="{Binding gasexchangeUnits}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeGexUnitCommand}" CommandParameter="{Binding ElementName=cmbGexUnits, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> blood compartment" FontSize="10" Margin="5,5,5,0" VerticalAlignment="Center"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Grid.ColumnSpan="2" Text="{Binding CompBloodGex}" FontSize="10" Margin="5,5,5,0" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> gas compartment" FontSize="10" Margin="5,5,5,0" VerticalAlignment="Center"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="2" Text="{Binding CompGasGex}" FontSize="10" Margin="5,5,5,5" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> diffusion O2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.000001" Minimum="0" Value="{Binding DiffO2Gex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> diffusion CO2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.000001" Minimum="0" Value="{Binding DiffCO2Gex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> diffusion N2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.000001" Minimum="0" Value="{Binding DiffN2Gex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> diffusion other gasses" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.000001" Minimum="0" Value="{Binding DiffOtherGex, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> is enabled" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="7" IsChecked="{Binding IsEnabledGex}" Margin="0,5,0,0" ></CheckBox>



                                </Grid>
                            </Border>
                        </Expander>

                        <Expander IsExpanded="false" Header=" diffusion units" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>


                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="select unit " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbDifUnits" ItemsSource="{Binding diffusionUnits}"  DisplayMemberPath="Description" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeDifUnitCommand}" CommandParameter="{Binding ElementName=cmbDifUnits, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> blood compartment" FontSize="10" Margin="5,5,5,0" VerticalAlignment="Center"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Grid.ColumnSpan="2" Text="{Binding CompBlood1Dif}" FontSize="10" Margin="5,5,5,0" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> blood compartment" FontSize="10" Margin="5,5,5,0" VerticalAlignment="Center"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="2" Text="{Binding CompBlood2Dif}" FontSize="10" Margin="5,5,5,5" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> diffusion O2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.000001" Minimum="0" Value="{Binding DiffO2Dif, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> diffusion CO2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.000001" Minimum="0" Value="{Binding DiffCO2Dif, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Text="> diffusion N2" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="5" Increment="0.000001" Minimum="0" Value="{Binding DiffN2Dif, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="5" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> diffusion other gasses" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.000001" Minimum="0" Value="{Binding DiffOtherDif, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> is enabled" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="7" IsChecked="{Binding IsEnabledDif}" Margin="0,5,0,0" ></CheckBox>


                                </Grid>
                            </Border>
                        </Expander>

                        
                        <Expander Header=" autonomic nervous system model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <StackPanel Margin="20,0,0,0">
                                <Expander Header=" MAP baroreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>


                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThMAP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on heart period"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GMAPHP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of hp effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcMAPHP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on contractility"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GMAPCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of cont effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcMAPCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="gain on SVR"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding GMAPSVR,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="7" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="time constant of SVR effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding TcMAPSVR,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="8" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="gain on venous pool"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Value="{Binding GMAPVen,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="9" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text="time constant of pooling effect"   Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Value="{Binding TcMAPVen,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="10" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                        </Grid>
                                    </Border>
                                </Expander>

                                <Expander Header=" pH chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThPH,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GPHVE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcPHVE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on contractility"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GPHCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of cont effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcPHCont,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                        </Grid>
                                    </Border>
                                </Expander>

                                <Expander Header=" pO2 chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThPO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GPO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcPO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on heart period"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GPO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of hp effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcPO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                        </Grid>
                                    </Border>
                                </Expander>

                                <Expander Header=" pCO2 chemoreceptor activation curve" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                                    <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                        <Grid Margin="10,5,10,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5*"/>
                                                <ColumnDefinition Width="2*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>

                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="saturation"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding SaPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="0" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="operating point"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding OpPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="threshold"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding ThPCO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="2" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="gain on minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding GPCO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="3" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="time constant of mv effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding TcPCO2VE,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="gain on heart period"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding GPCO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                            <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="time constant of hp effect"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                            <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding TcPCO2HP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="mmHg" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>



                                        </Grid>
                                    </Border>
                                </Expander>
                            </StackPanel>


                        </Expander>

                        <Expander Header=" breathing model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="spontaneous breathing" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="0"  IsChecked="{Binding SpontaneousBreathing, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="reference exhaled minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding VERef,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="maximal exhaled minute volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding VEMax,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="tidal volume / resp rate ratio"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding VtRrRatio,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="breath duration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding BreathDuration,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="breath duration randomness"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding BreathDurationRand,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="apnoe occurence"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding ApnoeOccurence,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="apnoe duration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding ApnoeDuration,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="apnoe duration randomness"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding ApnoeDurationRand,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="ml/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="inspired oxygen concentration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Increment="0.01" Minimum="0.21" Maximum="1" Value="{Binding FiO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                 


                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" ventilator model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="mechanical ventilator enabled" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="0"  IsChecked="{Binding VirtualVentilatorEnabled, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="volume controlled" Margin="0,0,0,5"></TextBlock>
                                    <CheckBox Grid.Column="1" Grid.Row="1"  IsChecked="{Binding Vent_VolumeControlled, Mode=TwoWay}" FontSize="10" HorizontalAlignment="Left"/>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="targeted tidal volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding Vent_TargetTidalVolume,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="max insp pressure (PIP)"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding Vent_PIP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="cmH2O" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="pos end exp pressure (PEEP)"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding Vent_PEEP,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="cmH2O" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="inspiration time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding Vent_TIn,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="expiration time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding Vent_TOut,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="sec" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="inspiratory flow"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding Vent_InspFlow,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="l/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="expiratory flow"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding Vent_ExpFlow,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="l/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="trigger volume"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Value="{Binding Vent_TriggerVolume,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="ml" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text="inspired oxygen concentration"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Increment="0.01" Minimum="0.21" Maximum="1"  Value="{Binding FiO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="10" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>
                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" ecg model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" Margin="0,0,0,0" Text="select rhythm " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbRhythmType" ItemsSource="{Binding rhythmTypes}"  Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="1" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeRhythmCommand}" CommandParameter="{Binding ElementName=cmbRhythmType, Path=SelectedIndex}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="pq time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding PQTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="qrs time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding QRSTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="qt time"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding QTTime,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="ventricular escape rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding VentEscapeRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="wandering pacemaker rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding WandPacemakerRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="/min" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="p wave amplification"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding PWaveAmp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="t wave amplification"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding TWaveAmp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="ecg noise level"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding NoiseLevel,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>

                        </Expander>

                        <Expander Header=" oxygenation model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="oxygen use"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding VO2,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="ml O2/s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="hemoglobin"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding Hemoglobin,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="2,3 DPG"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding DPG,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="temperature"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding Temp,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="deg C" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                </Grid>
                            </Border>
                        </Expander>

                        <Expander Header=" acidbase model" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" FontSize="10" Text="respiratory quotient"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="0" Grid.Column="1" Value="{Binding RespQ,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                    <TextBlock Grid.Column="0" Grid.Row="1" FontSize="10" Text="sodium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="1" Grid.Column="1" Value="{Binding NaPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" FontSize="10" Text="potassium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="2" Grid.Column="1" Value="{Binding KPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" FontSize="10" Text="chloride"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="3" Grid.Column="1" Value="{Binding ClPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" FontSize="10" Text="calcium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="4" Grid.Column="1" Value="{Binding CaPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="4" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="5" FontSize="10" Text="magnesium"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="5" Grid.Column="1" Value="{Binding MgPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="5" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="6" FontSize="10" Text="phosphates"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="6" Grid.Column="1" Value="{Binding PhosPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="6" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" FontSize="10" Text="albumin"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="7" Grid.Column="1" Value="{Binding AlbPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="7" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" FontSize="10" Text="unmeasured anions"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="8" Grid.Column="1" Value="{Binding UaPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="8" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" FontSize="10" Text="unmeasures cations"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="9" Grid.Column="1" Value="{Binding UcPlasma,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="9" Text="mmol/l" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>


                                    <TextBlock Grid.Column="0" Grid.Row="10" FontSize="10" Text="lactate clearance rate"  Margin="0,5,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Row="10" Grid.Column="1" Value="{Binding LactateClearanceRate,Mode=TwoWay}" FontSize="10" Margin="0,2,5,2" ></ex:DoubleUpDown>
                                    <TextBlock Grid.Column="2" Grid.Row="10" Text="mmol/s" FontSize="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,5,0,5"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>



                    </StackPanel>
                </Expander>
                
                <Expander IsExpanded="False" Header="Drugs" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <StackPanel Margin="5,0,5,5">

                            <Border BorderBrush="White" BorderThickness="1" CornerRadius="5" Background="Black">
                                <Grid Margin="10,5,10,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Margin="5,0,0,0" Text="selected drug " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbAvailableDrugList" ItemsSource="{Binding availableDrugs}"  DisplayMemberPath="Name" Margin="0,0,5,0" FontSize="10" Height="20" Grid.ColumnSpan="2" Grid.Column="2" >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding ChangeDrugCommand}" CommandParameter="{Binding ElementName=cmbAvailableDrugList, Path=SelectedItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Text="> dose" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="1" Increment="0.01" Minimum="0"  Value="{Binding DrugDose, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="2" Text="mmol" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="> metabolic rate" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="2" Increment="0.01" Minimum="0"  Value="{Binding DrugMetabolicRate, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="2" Text="mmol/s" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Text="> hepatic clearance rate" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="3" Increment="0.01" Minimum="0"  Value="{Binding DrugHepaticClearanceRate, Mode=TwoWay}" Margin="0,2,0,2" FontSize="10"/>
                                    <TextBlock Grid.Column="3" Grid.Row="3" Grid.ColumnSpan="2" Text="mmol/s" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Text="> renal clearance rate" FontSize="10" Margin="5,0,0,5" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="4" Increment="0.1"  Value="{Binding DrugRenalClearanceRate, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="4" Grid.ColumnSpan="2" Text="mmol/s" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="5" Margin="5,0,0,0" Text=" associated drug effects " FontSize="10" TextAlignment="Left" VerticalAlignment="Center" ></TextBlock>
                                    <ComboBox x:Name="cmbDrugEffects" ItemsSource="{Binding drugEffects}"  DisplayMemberPath="EffectSite" Margin="0,0,5,0" FontSize="10" Height="20" Grid.Row="5" Grid.ColumnSpan="2" Grid.Column="2" >
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                            <i:InvokeCommandAction Command="{Binding ChangeDrugEffectCommand}" CommandParameter="{Binding ElementName=cmbDrugEffects, Path=SelectedItem}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                    </ComboBox>
                                    
                                    <TextBlock Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2" Text="> gain" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="6" Increment="0.01" Minimum="0"  Value="{Binding DrugEffectGain, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="6" Grid.ColumnSpan="2" Text="" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Text="> time constant" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="7" Increment="0.01" Minimum="0" Maximum="1"  Value="{Binding DrugEffectTimeConstant, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="7" Grid.ColumnSpan="2" Text="sec" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="8" Grid.ColumnSpan="2" Text="> conc. saturation" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="8" Increment="0.1"  Value="{Binding DrugEffectSaturation, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="8" Grid.ColumnSpan="2" Text="mmol/l" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="9" Grid.ColumnSpan="2" Text="> conc. threshold" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Center"></TextBlock>
                                    <ex:DoubleUpDown Grid.Column="2" Grid.Row="9" Increment="0.01" Minimum="0"  Value="{Binding DrugEffectThreshold, Mode=TwoWay}" FontSize="10" Margin="0,2,0,2"/>
                                    <TextBlock Grid.Column="3" Grid.Row="9" Grid.ColumnSpan="2" Text="mmol/l" FontSize="10" Margin="5,0,5,0" HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>
          
                                    <TextBlock Grid.Column="0" Grid.Row="10" Grid.ColumnSpan="2" Text="> dose dependent" FontSize="10" Margin="5,5,0,0" VerticalAlignment="Center"></TextBlock>
                                    <CheckBox Grid.Column="2" Grid.Row="10" IsChecked="{Binding DrugEffectDoseDependent}" Margin="0,5,0,0" ></CheckBox>

                                <Button Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="11" Command="{Binding AddDrugCommand}" Content="administer" Margin="1,10,1,1"></Button>


                                </Grid>

                            </Border>

                    </StackPanel>
                </Expander>

                
                <Expander IsExpanded="False" Header="Model log" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White"  BorderThickness="1" CornerRadius="5" Margin="10,0,10,10" Background="White" >
                        <ListBox x:Name="lstBox" Height="100" Margin="5,5,5,5" ItemsSource="{Binding Path=ModelLog, UpdateSourceTrigger=PropertyChanged}" Background="White" BorderBrush="White" FontSize="10" ScrollViewer.VerticalScrollBarVisibility="Auto" Foreground="Black" >
                        </ListBox>
                    </Border>
                </Expander>

       
            </StackPanel>
        </ScrollViewer>
        
        <TextBlock Text="MONITORING" Grid.Column="2" TextAlignment="Center" Foreground="Black" FontWeight="DemiBold" FontSize="14" Margin="0,25,0,0"></TextBlock>
        <ScrollViewer Grid.Column="2"  Margin="0,50,5,25" VerticalScrollBarVisibility="Auto">
            <StackPanel Grid.Column="2" Margin="0,0,5,0">
                <Expander IsExpanded="{Binding MonitorVisible, Mode=TwoWay}" Margin="10,0,0,10"  Header="Patient Monitor" Background="DarkSlateGray" Padding="5,5,5,5" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="Black"  BorderThickness="1" CornerRadius="5" Margin="10,0,10,10" Background="Black" >
                        <local:PatientMonitor x:Name="graphMonitor"  Height="175"></local:PatientMonitor>
                    </Border>
                </Expander>
                <Expander IsExpanded="{Binding VitalsVisible, Mode=TwoWay}" Header="Vital parameters" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" Margin="10,0,10,10">
                        <Grid Margin="5,5,5,5" Background="Black" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="50"/>
                                <RowDefinition Height="50"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Column="0" Text="heartrate" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="0" Text="{Binding Heartrate}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="0" Text="bpm" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Text="spo2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Text="{Binding Spo2}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="1" Text="%" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="2" Text="abp" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="2" Text="{Binding Abp}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="2" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="3" Grid.Row="0" Text="cvp" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Cvp}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="0" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="0" Grid.Row="1" Text="resp rate" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Resprate}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="0" Grid.Row="1" Text="/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="1" Grid.Row="1" Text="etco2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Endtidalco2}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="1" Grid.Row="1" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="2" Grid.Row="1" Text="pap" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="2" Grid.Row="1"  Text="{Binding Pap}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="2" Grid.Row="1"  Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="3" Grid.Row="1" Text="temp" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Temp}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="18"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="dgs" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                        </Grid>
                    </Border>
                </Expander>
                <Expander IsExpanded="{Binding LabVisible, Mode=TwoWay}" Header="Laboratory results" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10"  Foreground="White" BorderThickness="0">
                    <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" Margin="10,0,10,10">
                        <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="50"/>
                                    <RowDefinition Height="50"/>

                                </Grid.RowDefinitions>


                                <TextBlock Grid.Column="0" Grid.Row="0" Text="pH" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Ph}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                <TextBlock Grid.Column="0" Grid.Row="0" Text="" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                <TextBlock Grid.Column="1" Grid.Row="0" Text="paO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Pao2}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                <TextBlock Grid.Column="1" Grid.Row="0" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                <TextBlock Grid.Column="2" Grid.Row="0" Text="paCO2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Paco2}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                <TextBlock Grid.Column="2" Grid.Row="0" Text="kPa" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                <TextBlock Grid.Column="3" Grid.Row="0" Text="HCO3-" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Hco3}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                <TextBlock Grid.Column="3" Grid.Row="0" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                <TextBlock Grid.Column="0" Grid.Row="1" Text="BE" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Be}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                <TextBlock Grid.Column="0" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                                <TextBlock Grid.Column="1" Grid.Row="1" Text="Lactate (AA)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding LactateAA}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                <TextBlock Grid.Column="1" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                            <TextBlock Grid.Column="2" Grid.Row="1" Text="Lactate (BRAIN)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding LactateBRAIN}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                            <TextBlock Grid.Column="2" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>
                            
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="Lactate (LB)" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding LactateLB}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>
                            

                        </Grid>
                        </Border>
               
                </Expander>
                <Expander IsExpanded="{Binding AdditionalVisible, Mode=TwoWay}" Header="Additional parameters" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10"  Foreground="White" BorderThickness="0">
                    <StackPanel Margin="10,0,10,5" Background="Transparent" >
                        <Expander Header=" heart" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black"  Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
 
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Text="LV output" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Text="{Binding Lvo}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Text="LV stroke" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Text="{Binding Lvstroke}"  FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Text="LV pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Text="{Binding Lvpressures}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="LA pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Lapressures}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="RV output" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Rvo}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="RV stroke" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Rvstroke}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="RV pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1"  Text="{Binding Rvpressures}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1"  Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="RA pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Rapressures}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="mmHg" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="LV volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding Lvvolumes}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="LA volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding Lavolumes}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="RV volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2"  Text="{Binding Rvvolumes}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2"  Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="RA volumes" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="{Binding Ravolumes}"  FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" circulation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="IVC" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Ivcflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="SVC" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Svcflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="Upper body" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Ubflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="Lower body" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Lbflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="Kidneys" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Kidneysflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="Liver" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Liverflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="Myocardial" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding Myoflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>
                                                    
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="Brain" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Brainflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="Placental" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding Placentalflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>
                         
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="Pulmonary" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding Pulmflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="Systemic" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="{Binding Systflow}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="Qp:Qs" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="{Binding QpQs}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>





                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" oxygenation" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>


                                    </Grid.RowDefinitions>


                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="Venous Sat" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding VenousSpo2}"  FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="%" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>




                                </Grid>
                            </Border>
                        </Expander>
                        <Expander Header=" lung" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black" Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                    </Grid.RowDefinitions>


                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="Resp rate" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Resprate}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="Alv volume" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Alveolarvolume}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="Tidal volume" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Tidalvolume}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="Minute volume" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Minutevolume}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="Applied pressure" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Appliedpressure}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="Airway pressure" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Airwaypressure}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="Alv left pressure" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding Alvleftpressure}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="Alv right pressures" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Alvrightpressure}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="Target MV" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding MinutevolumeTarget}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="ml/min" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="Target TV" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding TidalvolumeTarget}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="VT Ref" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="{Binding VTRef}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="VT Max" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="{Binding VTMax}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="16"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="2" Text="ml" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                                </Grid>
                            </Border>
                        </Expander>
                       
                     

                    </StackPanel>
                </Expander>
                <Expander IsExpanded="{Binding PVLoopVisible, Mode=TwoWay}"  Margin="10,0,0,10"  Header="PV Loop" Background="DarkSlateGray" Padding="5,5,5,5" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="Black"  BorderThickness="1" CornerRadius="5" Margin="10,0,10,10" Background="Black" >
                        <local:LoopGraph x:Name="graphLoop" Margin="5,5,5,5"  Height="200"/>
                    </Border>
                </Expander>
                <Expander IsExpanded="{Binding DrugVisible, Mode=TwoWay}" Header="Drugs" Background="DarkSlateGray" Padding="5,5,5,5" Margin="10,0,0,10"  Foreground="White" BorderThickness="0">
                    <StackPanel Margin="10,0,10,5" Background="Transparent" >
                        <Expander Header=" drug concentrations" IsExpanded="False" Foreground="White" Padding="2,2,2,2" Margin="0,0,0,5">
                            <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="Black" >
                                <Grid Margin="5,5,5,5" Background="Black"  Opacity="1.0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="Drug 1" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Drug1Concentration}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="0" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="Drug 2" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Drug2Concentration}"  FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="Drug 3" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding Drug3Concentration}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="Drug 4" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding Drug4Concentration}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="0" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="Drug 5" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Drug5Concentration}"  FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="Drug 6" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Drug6Concentration}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>


                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="Drug 7" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding Drug7Concentration}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="Drug 8" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding Drug8Concentration}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="3" Grid.Row="1" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="Drug 9" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="{Binding Drug9Concentration}"  FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="Drug 10" TextAlignment="Left" VerticalAlignment="Top" FontSize="8" Margin="5,0,0,0"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding Drug10Concentration}" FontWeight="Bold" TextAlignment="Center" VerticalAlignment="Center" FontSize="14"></TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Text="mmol/l" TextAlignment="Center" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,2" FontSize="8"></TextBlock>

                                    

                                </Grid>
                            </Border>
                        </Expander>

                    </StackPanel>
                </Expander>
            </StackPanel>

        </ScrollViewer>

        <TextBlock Text="MODEL GRAPHICS" Grid.Column="1" TextAlignment="Center" Foreground="Black" FontWeight="DemiBold" FontSize="14" Margin="0,25,0,0"></TextBlock>
        <ScrollViewer Grid.Column="1"  Margin="0,50,5,25" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="10,0,10,0">
                <Expander IsExpanded="{Binding DiagramVisible, Mode=TwoWay}" Margin="0,0,0,10"  Header="Model diagram" Background="DarkSlateGray" Padding="5,5,5,5" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White"  BorderThickness="1" CornerRadius="5" Margin="10,0,10,10" Background="White" >
                        <local:ModelDiagram x:Name="graphDiagram" Margin="10,10,10,10"  Height="500"></local:ModelDiagram>
                    </Border>
                </Expander>
                
                

                <Expander IsExpanded="{Binding TrendVitalsVisible, Mode=TwoWay}" Margin="0,0,0,10"  Header="Vital trends" Background="DarkSlateGray" Padding="5,5,5,5" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White"  BorderThickness="1" CornerRadius="5" Margin="10,0,10,10" Background="Black" >
                        <local:TimeBasedGraph x:Name="graphTrends" Margin="10,10,10,10" Height="250" ></local:TimeBasedGraph>
                    </Border>
                </Expander>

                <Expander IsExpanded="{Binding TrendBloodgasVisible, Mode=TwoWay}" Margin="0,0,0,10"  Header="Bloodgas trends" Background="DarkSlateGray" Padding="5,5,5,5" Foreground="White" BorderThickness="0">
                    <Border BorderBrush="White"  BorderThickness="1" CornerRadius="5" Margin="10,0,10,10" Background="Black" >
                        <local:TimeBasedGraph x:Name="graphBloodgas" Margin="10,10,10,10"  Height="250"/>
                    </Border>
                </Expander>
              

               

             


            </StackPanel>
                </ScrollViewer>

        <Button Grid.Column="0" Grid.ColumnSpan="3" HorizontalAlignment="Center" VerticalAlignment="Bottom" Command="{Binding StopCommand}" Foreground="{Binding StopButtonColor}"  Content="{Binding StopButtonText}" Width="40" Margin="0,0,0,3" FontSize="12"></Button>

    </Grid>
</Window>
